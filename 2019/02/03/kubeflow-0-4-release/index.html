<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Kubeflow v0.4.x 部署與概述 - Yi Yang&#039;s Blog</title><meta description="Kubeflow 專案致力於使 ML Workflow 發展更具簡易性、可攜帶性和規模性。 Kubeflow於2017年底正式開源，並於2018年5月發布了首個0.1版本，至今 kubeflow 各項目發展迅速，而我參與 2018 KubeCon Shanghai 聆聽好幾場來自 各大企業與 Google等議程，分享 Kubeflow 導入企業實際應用情境，深刻感受到 kubeflow 在開源社區"><meta property="og:type" content="blog"><meta property="og:title" content="Kubeflow v0.4.x 部署與概述"><meta property="og:url" content="http://yylin1.github.io/2019/02/03/kubeflow-0-4-release/"><meta property="og:site_name" content="Yi Yang&#039;s Blog"><meta property="og:description" content="Kubeflow 專案致力於使 ML Workflow 發展更具簡易性、可攜帶性和規模性。 Kubeflow於2017年底正式開源，並於2018年5月發布了首個0.1版本，至今 kubeflow 各項目發展迅速，而我參與 2018 KubeCon Shanghai 聆聽好幾場來自 各大企業與 Google等議程，分享 Kubeflow 導入企業實際應用情境，深刻感受到 kubeflow 在開源社區"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="http://yylin1.github.io/images/kubeflow-deploy-0-4.png"><meta property="article:published_time" content="2019-02-03T05:28:29.000Z"><meta property="article:modified_time" content="2019-08-07T09:02:23.000Z"><meta property="article:author" content="Yi Yang"><meta property="article:tag" content="kubernetes"><meta property="article:tag" content="kubeflow"><meta property="article:tag" content="deploy"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/kubeflow-deploy-0-4.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yylin1.github.io/2019/02/03/kubeflow-0-4-release/"},"headline":"Yi Yang's Blog","image":["http://yylin1.github.io/images/kubeflow-deploy-0-4.png"],"datePublished":"2019-02-03T05:28:29.000Z","dateModified":"2019-08-07T09:02:23.000Z","author":{"@type":"Person","name":"Yi Yang"},"description":"Kubeflow 專案致力於使 ML Workflow 發展更具簡易性、可攜帶性和規模性。 Kubeflow於2017年底正式開源，並於2018年5月發布了首個0.1版本，至今 kubeflow 各項目發展迅速，而我參與 2018 KubeCon Shanghai 聆聽好幾場來自 各大企業與 Google等議程，分享 Kubeflow 導入企業實際應用情境，深刻感受到 kubeflow 在開源社區"}</script><link rel="canonical" href="http://yylin1.github.io/2019/02/03/kubeflow-0-4-release/"><link rel="icon" href="/images/artificial-intelligence.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/artificial-intelligence.png" alt="Yi Yang&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/gossip">Gossip</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="文章目錄" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜尋" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="thumbnail" src="/images/kubeflow-deploy-0-4.png" alt="Kubeflow v0.4.x 部署與概述"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-02-03T05:28:29.000Z" title="2019-02-03T05:28:29.000Z">2019-02-03</time><span class="level-item"><a class="link-muted" href="/categories/Kubeflow/">Kubeflow</a></span><span class="level-item">14 分鐘 閱讀文 (大約 2030 個字)</span></div></div><h1 class="title is-3 is-size-4-mobile">Kubeflow v0.4.x 部署與概述</h1><div class="content"><p><strong>Kubeflow 專案致力於使 ML Workflow 發展更具簡易性、可攜帶性和規模性。</strong> <a href="https://www.itcodemonkey.com/article/12711.html" target="_blank" rel="noopener">Kubeflow於2017年底正式開源，並於2018年5月發布了首個0.1版本</a>，至今 kubeflow 各項目發展迅速，而我參與 <code>2018 KubeCon Shanghai</code> 聆聽好幾場來自 各大企業與 Google等議程，分享 Kubeflow 導入企業實際應用情境，深刻感受到 <strong>kubeflow</strong> 在開源社區與貢獻者中重視度，在快速發展下至於1月宣布 Kubeflow 0.4 穩定版本正式發佈。</p>
<p>#此篇主要記錄操作 kubflow v0.4.1 部署與更新概述。</p>
<h3 id="Related-Posts"><a href="#Related-Posts" class="headerlink" title="Related Posts"></a>Related Posts</h3><ul>
<li><a href="https://yylin1.github.io/2018/10/23/kubeflow-deploy-v0.3.0/">[kubeflow] 快速部署 Kubeflow v0.3 容器機器學習平台</a><a id="more"></a>
</li>
</ul>
<p><strong># Quickly get running with your ML Workflow</strong></p>
<p><img src="https://i.imgur.com/oU86YTx.png" alt></p>
<ul>
<li><p>Kubeflow目標不是在於重建其他服務，而是提供一個最佳開發系統（更直接的）部署到任何基礎設施中，有效確保 ML 在之間移動性，並輕鬆將任務擴展至任何基礎設施。</p>
</li>
<li><p>由於透過 Kubernetes 來做為底層基礎，因此只要有 Kubernetes 的地方，都能夠運行快速部署 Kubeflow。</p>
</li>
</ul>
<p>使用Kubeflow的新型Jupyter筆記本電腦產品，創建筆記本電腦比以往更容易。選擇已安裝最流行的機器學習庫的精選圖像，或帶上您自己的自定義圖像。</p>
<hr>
<h2 id="Kubeflow-0-4提供了以下主要功能和更新："><a href="#Kubeflow-0-4提供了以下主要功能和更新：" class="headerlink" title="Kubeflow 0.4提供了以下主要功能和更新："></a>Kubeflow 0.4提供了以下主要功能和更新：</h2><ul>
<li>更新 <a href="https://github.com/kubeflow/kubeflow/tree/master/components/jupyterhub" target="_blank" rel="noopener">JupyterHub UI</a> 介面，可以更輕鬆生成附有<code>PVC</code>的 Jupyter Notebook，直觀選擇常用或自定義 Image，提供方便管理創建對 CPU / Memory / GPU 資源具有更多配置並生成 Jupyter notebooks </li>
<li>alpha版本 <a href="https://github.com/kubeflow/fairing" target="_blank" rel="noopener">fairing</a>，一個簡化Library數據科學家建立並直接從 Notebook 開始訓練任務模型</li>
<li>用於 ML 工作流的 <a href="https://github.com/kubeflow/pipelines" target="_blank" rel="noopener">Kubeflow Pipelines</a>，通過重啟具有不同數據資料與更新數據pipeline來加速 productizing models 過程</li>
<li><a href="https://github.com/kubeflow/katib" target="_blank" rel="noopener">Katib</a> 支援 TFJob，使更容易比較不同的超參數性能來進行模型優化</li>
<li>TFJob 和 PyTorch operators 升為 <strong>Beta</strong>版本，使數據科學家能夠針對更穩定 API對其訓練任務進行編譯，並更容易切換在訓練之間使用的框架</li>
</ul>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ul>
<li><a href="https://medium.com/kubeflow/kubeflow-0-4-release-enhancements-for-machine-learning-productivity-d77c54df07a9" target="_blank" rel="noopener">Kubeflow 0.4 Release: Enhancements for Machine Learning productivity
</a></li>
</ul>
<hr>
<h2 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h2><h4 id="部署-Kubeflow-之前，需要確保以下條件達成："><a href="#部署-Kubeflow-之前，需要確保以下條件達成：" class="headerlink" title="部署 Kubeflow 之前，需要確保以下條件達成："></a>部署 Kubeflow 之前，需要確保以下條件達成：</h4><p>所有 kubernetes 叢集<code>節點</code>確認已經安裝 NVIDIA Driver、CUDA、Docker、NVIDIA Docker，以下此篇文章部署實驗環境版本資訊 (kubernetes v1.11.2)：</p>
<ul>
<li>CUDA Version: 10.0.130</li>
<li>Driver Version: 410.48</li>
<li>Docker Version: 18.03.0-ce</li>
<li>NVIDIA Docker: 2.0.3</li>
</ul>
<blockquote>
<p> Storage 儲數據方式是採用建立 <code>NFS server</code>，配置 PV 提供給 Kubeflow 使用：</p>
<ul>
<li>這邊參考先前文章設置: <a href="https://yylin1.github.io/2018/10/23/kubeflow-deploy-v0.3.0/">安裝 NFS</a></li>
<li>其他存儲數據方式: <a href="https://qiita.com/ysakashita/items/8b411943f7e25dc4c5b0" target="_blank" rel="noopener">Kubernetes: Local Volume</a></li>
</ul>
</blockquote>
<h2 id="部署-Kubeflow"><a href="#部署-Kubeflow" class="headerlink" title="部署 Kubeflow"></a>部署 Kubeflow</h2><h3 id="安裝ksonnet"><a href="#安裝ksonnet" class="headerlink" title="安裝ksonnet"></a>安裝ksonnet</h3><p>Kubeflow 利用 <a href="https://ksonnet.io/" target="_blank" rel="noopener">ksonnet</a> 打包和部署其組件配置，可以更輕鬆地管理複雜部署。</p>
<p>安裝 <a href="https://www.kubeflow.org/docs/components/ksonnet/" target="_blank" rel="noopener">ksonnet v0.3.1</a> 版本 </p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 確保環境具有 ksonnet 最低要求版本</span></span><br><span class="line">$ <span class="hljs-built_in">export</span> KS_VER=0.13.1</span><br><span class="line">$ <span class="hljs-built_in">export</span> KS_PKG=ks_<span class="hljs-variable">$&#123;KS_VER&#125;</span>_linux_amd64</span><br><span class="line"></span><br><span class="line">$ wget <span class="hljs-variable">$&#123;KS_PKG&#125;</span>.tar.gz https://github.com/ksonnet/ksonnet/releases/download/v<span class="hljs-variable">$&#123;KS_VER&#125;</span>/<span class="hljs-variable">$&#123;KS_PKG&#125;</span>.tar.gz \</span><br><span class="line">  --no-check-certificate</span><br><span class="line">$ tar xvf <span class="hljs-variable">$KS_PKG</span>.tar.gz</span><br><span class="line">$ sudo cp <span class="hljs-variable">$KS_PKG</span>/ks /usr/<span class="hljs-built_in">local</span>/bin/</span><br><span class="line">$ chmod +x /usr/<span class="hljs-built_in">local</span>/bin/ks</span><br></pre></td></tr></table></figure>
<p>確認 ksonnet 版本</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ks version</span><br><span class="line">ksonnet version: 0.13.1</span><br><span class="line">jsonnet version: v0.11.2</span><br><span class="line">client-go version: kubernetes-1.10.4</span><br></pre></td></tr></table></figure>
<h3 id="部署儲存需求-PVC"><a href="#部署儲存需求-PVC" class="headerlink" title="部署儲存需求 PVC"></a>部署儲存需求 PVC</h3><p>在kubeflow v0.4版本中，Kubeflow 依賴 <code>katib-mysql</code>、<code>pipeline-mino</code>、<code>pipeline-mysql</code>這三個有狀態服務。而這些服務需要提前部署儲存空間：</p>
<blockquote>
<p>實驗為測試採用快速部署，所以簡單建立三個 <code>NFS PV</code> 儲存空間供給服務使用:</p>
<ul>
<li>請更換自己環境中 <code>{NFS-server IP}</code> </li>
</ul>
</blockquote>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> $(seq 1 3); <span class="hljs-keyword">do</span></span><br><span class="line">cat &lt;&lt;EOF | kubectl create -f -</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">metadata:</span><br><span class="line">    name: kubeflow-pv<span class="hljs-variable">$&#123;i&#125;</span></span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 20Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  nfs:</span><br><span class="line">    server: &#123;NFS-server IP&#125;</span><br><span class="line">    path: /nfs-data/kubeflow-pv</span><br><span class="line">EOF</span><br><span class="line"> <span class="hljs-keyword">done</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">persistentvolume/kubeflow-pv1 created</span><br><span class="line">persistentvolume/kubeflow-pv2 created</span><br><span class="line">persistentvolume/kubeflow-pv3 created</span><br></pre></td></tr></table></figure>
<h3 id="下載-Kubeflow-相關-repo"><a href="#下載-Kubeflow-相關-repo" class="headerlink" title="下載 Kubeflow 相關 repo"></a>下載 Kubeflow 相關 repo</h3><p>本節將說明如何利用 ksonnet 來部署 Kubeflow 到 Kubernetes 叢集中</p>
<p>下載GitHub中Kubeflow設置所需配置：</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 建立配置指定資料夾路徑，可自行更換名稱</span></span><br><span class="line">$ KUBEFLOW_SRC=mykfsrc   </span><br><span class="line">$ mkdir <span class="hljs-variable">$&#123;KUBEFLOW_SRC&#125;</span></span><br><span class="line">$ <span class="hljs-built_in">cd</span> <span class="hljs-variable">$&#123;KUBEFLOW_SRC&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 部署kubeflow版本標籤，可自行選擇其他分支</span></span><br><span class="line">$ <span class="hljs-built_in">export</span> KUBEFLOW_TAG=v0.4.1 </span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 執行shell script (複製時注意`\`)</span></span><br><span class="line">$ curl https://raw.githubusercontent.com/kubeflow/kubeflow/<span class="hljs-variable">$&#123;KUBEFLOW_TAG&#125;</span>/scripts/download.sh | bash</span><br></pre></td></tr></table></figure>
<p>下載後 <code>$KUBEFLOW_SRC</code> 目錄下會多kubeflow、scripts資料夾:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ tree -L 1</span><br><span class="line">.</span><br><span class="line">├── deployment</span><br><span class="line">├── kubeflow</span><br><span class="line">└── scripts</span><br></pre></td></tr></table></figure>
<h2 id="執行安裝腳本配置與部署"><a href="#執行安裝腳本配置與部署" class="headerlink" title="執行安裝腳本配置與部署"></a>執行安裝腳本配置與部署</h2><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 退回上一層建立對應路徑，配置 $KUBEFLOW_REPO</span></span><br><span class="line">$ <span class="hljs-built_in">cd</span> ../</span><br><span class="line">$ KUBEFLOW_REPO=$(<span class="hljs-built_in">pwd</span>)/mykfsrc</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># $&#123;KFAPP&#125; 為配置 kubeflow 儲存目錄的名稱，執行 init 時將創建此目錄</span></span><br><span class="line"><span class="hljs-comment"># ksonnet應用程式將在 $&#123;KFAPP&#125;/ks_app目錄中創建</span></span><br><span class="line">$ KFAPP=mykfapp</span><br><span class="line">$ <span class="hljs-variable">$&#123;KUBEFLOW_REPO&#125;</span>/scripts/kfctl.sh init <span class="hljs-variable">$&#123;KFAPP&#125;</span> --platform none</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 安裝 Kubeflow 套件至應用程式目錄</span></span><br><span class="line">$ <span class="hljs-built_in">cd</span> <span class="hljs-variable">$&#123;KFAPP&#125;</span></span><br><span class="line">$ <span class="hljs-variable">$&#123;KUBEFLOW_REPO&#125;</span>/scripts/kfctl.sh generate k8s</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 定義 Namespace 為 kubeflow 來管理相關資源</span></span><br><span class="line">$ NAMESPACE=kubeflow</span><br><span class="line">$ kubectl create ns <span class="hljs-variable">$&#123;NAMESPACE&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 部署 Kubeflow</span></span><br><span class="line">$ <span class="hljs-variable">$&#123;KUBEFLOW_REPO&#125;</span>/scripts/kfctl.sh apply k8s</span><br></pre></td></tr></table></figure>
<blockquote>
<p>#注意: 官方部署預設為 default，這邊部署有特別給 <code>kubeflow</code> 命名空間，如果要移除kubeflow，可直接 刪除kubeflow Namespace，所有物件也會被刪除<br>其中的KF_ENV為ksonnet定義的部署環境，這裡直接設為default</p>
</blockquote>
<h3 id="完成後檢查-Kubeflow-元件部署結果："><a href="#完成後檢查-Kubeflow-元件部署結果：" class="headerlink" title="完成後檢查 Kubeflow 元件部署結果："></a>完成後檢查 Kubeflow 元件部署結果：</h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl -n kubeflow get pod -o wide</span><br><span class="line">NAME                                                      READY     STATUS    RESTARTS   AGE       IP             NODE      NOMINATED NODE</span><br><span class="line">ambassador-5cf8cd97d5-2tfqg                               1/1       Running   1          8m        10.244.2.167   k8s-g3    &lt;none&gt;</span><br><span class="line">ambassador-5cf8cd97d5-4rbcx                               1/1       Running   1          8m        10.244.4.44    k8s-g1    &lt;none&gt;</span><br><span class="line">ambassador-5cf8cd97d5-q6dnh                               1/1       Running   1          8m        10.244.3.104   k8s-g2    &lt;none&gt;</span><br><span class="line">argo-ui-7c9c69d464-6hljq                                  1/1       Running   0          7m        10.244.2.171   k8s-g3    &lt;none&gt;</span><br><span class="line">centraldashboard-6f47d694bd-bn55x                         1/1       Running   0          8m        10.244.3.106   k8s-g2    &lt;none&gt;</span><br><span class="line">jupyter-0                                                 1/1       Running   0          8m        10.244.3.105   k8s-g2    &lt;none&gt;</span><br><span class="line">katib-ui-6bdb7d76cc-bfd72                                 1/1       Running   0          6m        10.244.3.114   k8s-g2    &lt;none&gt;</span><br><span class="line">metacontroller-0                                          1/1       Running   0          7m        10.244.3.109   k8s-g2    &lt;none&gt;</span><br><span class="line">minio-7bfcc6c7b9-h9bw5                                    1/1       Running   0          7m        10.244.2.172   k8s-g3    &lt;none&gt;</span><br><span class="line">ml-pipeline-6fdd759597-k5hds                              1/1       Running   1          7m        10.244.2.173   k8s-g3    &lt;none&gt;</span><br><span class="line">ml-pipeline-persistenceagent-5669f69cdd-9tjdm             1/1       Running   0          6m        10.244.2.174   k8s-g3    &lt;none&gt;</span><br><span class="line">ml-pipeline-scheduledworkflow-9f6d5d5b6-ddtbs             1/1       Running   0          6m        10.244.3.111   k8s-g2    &lt;none&gt;</span><br><span class="line">ml-pipeline-ui-67f79b964d-brjlt                           1/1       Running   0          6m        10.244.3.112   k8s-g2    &lt;none&gt;</span><br><span class="line">mysql-6f6b5f7b64-hbxpl                                    1/1       Running   0          7m        10.244.3.110   k8s-g2    &lt;none&gt;</span><br><span class="line">pytorch-operator-6f87db67b7-d5hq4                         1/1       Running   0          7m        10.244.3.108   k8s-g2    &lt;none&gt;</span><br><span class="line">studyjob-controller-774d45f695-wwznk                      1/1       Running   0          6m        10.244.3.115   k8s-g2    &lt;none&gt;</span><br><span class="line">tf-job-dashboard-5f986cf99d-295kw                         1/1       Running   0          7m        10.244.2.168   k8s-g3    &lt;none&gt;</span><br><span class="line">tf-job-operator-v1beta1-5876c48976-sk8gf                  1/1       Running   0          7m        10.244.3.107   k8s-g2    &lt;none&gt;</span><br><span class="line">vizier-core-fc7969897-86ffs                               1/1       Running   0          6m        10.244.2.179   k8s-g3    &lt;none&gt;</span><br><span class="line">vizier-core-rest-6fcd4665d9-rtpz6                         1/1       Running   0          6m        10.244.2.177   k8s-g3    &lt;none&gt;</span><br><span class="line">vizier-db-777675b958-l966s                                1/1       Running   0          6m        10.244.2.178   k8s-g3    &lt;none&gt;</span><br><span class="line">vizier-suggestion-bayesianoptimization-54db8d594f-lghgh   1/1       Running   0          6m        10.244.2.175   k8s-g3    &lt;none&gt;</span><br><span class="line">vizier-suggestion-grid-6f5d9d647f-6pjt9                   1/1       Running   0          6m        10.244.2.176   k8s-g3    &lt;none&gt;</span><br><span class="line">vizier-suggestion-hyperband-59dd9bb9bc-9knsd              1/1       Running   0          6m        10.244.3.113   k8s-g2    &lt;none&gt;</span><br><span class="line">vizier-suggestion-random-6dd597c997-9xkrq                 1/1       Running   0          6m        10.244.2.180   k8s-g3    &lt;none&gt;</span><br><span class="line">workflow-controller-5c95f95f58-ncv9d                      1/1       Running   0          7m        10.244.2.170   k8s-g3    &lt;none&gt;</span><br></pre></td></tr></table></figure>
<h3 id="補充-關閉-Kubeflow使用報告-可選擇"><a href="#補充-關閉-Kubeflow使用報告-可選擇" class="headerlink" title="#補充 關閉 Kubeflow使用報告 (可選擇)"></a>#補充 關閉 Kubeflow使用報告 (可選擇)</h3><p>部署後會附加收集匿名用戶數據記錄，以協助改進 Kubeflow，這邊官方也提供<a href="https://www.kubeflow.org/docs/other-guides/usage-reporting/" target="_blank" rel="noopener">禁用說明</a></p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl delete -n kubeflow deploy spartakus-volunteer</span><br><span class="line">$ <span class="hljs-built_in">cd</span> ../</span><br><span class="line">$ <span class="hljs-built_in">cd</span> <span class="hljs-variable">$&#123;KFAPP&#125;</span>/ks_app/</span><br><span class="line">$ ks delete default  -c spartakus</span><br><span class="line">$ ks component rm spartakus</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">INFO removing environment component                component-name=spartakus</span><br><span class="line">INFO Removing component parameter references ...</span><br><span class="line">INFO Deleting component <span class="hljs-string">"spartakus"</span></span><br><span class="line">INFO Successfully deleted component <span class="hljs-string">'spartakus'</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="訪問-Kubeflow-Web-UI"><a href="#訪問-Kubeflow-Web-UI" class="headerlink" title="訪問 Kubeflow Web UI"></a>訪問 Kubeflow Web UI</h3><p>Kubeflow 提供了一系列 Web UI：</p>
<ul>
<li>Argo UI</li>
<li>JupyterHub</li>
<li>Tfjob Dashboard</li>
<li>Katib Dashboard</li>
<li>Pipeline Dashboard</li>
</ul>
<p>首先，透過Service查看一下目前pod狀態</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl -n kubeflow get svc -o wide -w</span><br><span class="line">NAME                                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)             AGE       SELECTOR</span><br><span class="line">ambassador                               ClusterIP   10.103.129.210   &lt;none&gt;        80/TCP              3m        service=ambassador</span><br><span class="line">ambassador-admin                         ClusterIP   10.100.125.72    &lt;none&gt;        8877/TCP            3m        service=ambassador</span><br><span class="line">argo-ui                                  NodePort    10.97.105.61     &lt;none&gt;        80:30965/TCP        2m        app=argo-ui</span><br><span class="line">centraldashboard                         ClusterIP   10.98.13.76      &lt;none&gt;        80/TCP              3m        app=centraldashboard</span><br><span class="line">jupyter-0                                ClusterIP   None             &lt;none&gt;        8000/TCP            3m        app=jupyter</span><br><span class="line">jupyter-lb                               ClusterIP   10.108.219.1     &lt;none&gt;        80/TCP              3m        app=jupyter</span><br><span class="line">katib-ui                                 ClusterIP   10.102.139.110   &lt;none&gt;        80/TCP              2m        app=vizier,component=ui</span><br><span class="line">minio-service                            ClusterIP   10.105.24.96     &lt;none&gt;        9000/TCP            2m        app=minio</span><br><span class="line">ml-pipeline                              ClusterIP   10.99.180.136    &lt;none&gt;        8888/TCP,8887/TCP   2m        app=ml-pipeline</span><br><span class="line">ml-pipeline-tensorboard-ui               ClusterIP   10.103.12.204    &lt;none&gt;        80/TCP              2m        app=ml-pipeline-tensorboard-ui</span><br><span class="line">ml-pipeline-ui                           ClusterIP   10.97.153.108    &lt;none&gt;        80/TCP              2m        app=ml-pipeline-ui</span><br><span class="line">mysql                                    ClusterIP   10.108.186.1     &lt;none&gt;        3306/TCP            2m        app=mysql</span><br><span class="line">tf-job-dashboard                         ClusterIP   10.104.211.110   &lt;none&gt;        80/TCP              3m        name=tf-job-dashboard</span><br><span class="line">vizier-core                              NodePort    10.97.61.73      &lt;none&gt;        6789:30710/TCP      2m        app=vizier,component=core</span><br><span class="line">vizier-core-rest                         ClusterIP   10.107.134.95    &lt;none&gt;        80/TCP              2m        app=vizier,component=core-rest</span><br><span class="line">vizier-db                                ClusterIP   10.98.2.75       &lt;none&gt;        3306/TCP            2m        app=vizier,component=db</span><br><span class="line">vizier-suggestion-bayesianoptimization   ClusterIP   10.104.57.93     &lt;none&gt;        6789/TCP            2m        app=vizier,component=suggestion-bayesianoptimization</span><br><span class="line">vizier-suggestion-grid                   ClusterIP   10.111.0.101     &lt;none&gt;        6789/TCP            2m        app=vizier,component=suggestion-grid</span><br><span class="line">vizier-suggestion-hyperband              ClusterIP   10.100.181.37    &lt;none&gt;        6789/TCP            2m        app=vizier,component=suggestion-hyperband</span><br><span class="line">vizier-suggestion-random                 ClusterIP   10.101.159.47    &lt;none&gt;        6789/TCP            2m        app=vizier,component=suggestion-random</span><br></pre></td></tr></table></figure>
<p>這時候就可以透過 <code>Central UI</code> 引導訪問不同的 Kubeflow 服務，由於暴露安全性問題，官方教學是透過本機使用 <a href="https://www.kubeflow.org/docs/other-guides/accessing-uis/" target="_blank" rel="noopener">port forward</a> 訪問，但這邊為實驗測試是直接修改 Kubernetes Service，透過<code>NodePort</code>來直接連線：</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl -n kubeflow edit svc ambassador</span><br><span class="line"></span><br><span class="line">sessionAffinity: None</span><br><span class="line">  <span class="hljs-built_in">type</span>: NodePort</span><br><span class="line">status:</span><br></pre></td></tr></table></figure>
<p>再次查看Service確認NodePort 對應 Port<br><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl -n kubeflow get svc -o wide</span><br><span class="line">NAME                                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)             AGE       SELECTOR</span><br><span class="line">ambassador                               NodePort    10.103.129.210   &lt;none&gt;        80:32078/TCP        14m       service=ambassador</span><br></pre></td></tr></table></figure></p>
<p>完成後連接 <code>http://Master_IP:Port</code> 即可看到 kubeflow Central UI</p>
<p><img src="https://i.imgur.com/PEOizuf.png" alt></p>
<hr>
<h2 id="測試-Jupyter-Notebook"><a href="#測試-Jupyter-Notebook" class="headerlink" title="測試 Jupyter Notebook"></a>測試 Jupyter Notebook</h2><p>Kubeflow v0.4 更新 JupyterHub UI介面，創建Jupyter Notebook 比之前配置更容易。可以選擇已安裝最新版本的 ML Images，或附上自己自定義Image，即可配置<code>Spawn</code>生成。</p>
<p>這邊需要再次先建立一個 <code>NFS PV</code>來提供給 Kubeflow Jupyter使用：</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ cat &lt;&lt;EOF | kubectl create -f -</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">metadata:</span><br><span class="line">  name: jupyter-notebook-pv</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 20Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  nfs:</span><br><span class="line">    server: &#123;NFS-server IP&#125;</span><br><span class="line">    path: /nfs-data/jupytertest</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
<p><code>NFS PV</code> 建立好後這邊 UI 點選Jupyter Notebook登入測試，並輸入任意<code>帳號密碼</code>進行登入：</p>
<p><img src="https://i.imgur.com/zkIWIkP.png" alt></p>
<p><strong>Spawner Optinos</strong> 這邊可以輸入Notebook 資源，包含 Image、CPU、Memory、GPU數量、Workspace Volume、Data Volumes，最後點選Spawn來完成建立 Server，如下圖所示：</p>
<p><img src="https://i.imgur.com/4KRHrPA.png" alt></p>
<p><img src="https://i.imgur.com/NywKU10.png" alt></p>
<p>配置叢集節點GPU分配需求<br><img src="https://i.imgur.com/PrKHHr8.png" alt></p>
<p>配置好後及快速生成一個乾淨並帶有GPU使用的 <strong>Jupyter Notebook</strong><br><img src="https://i.imgur.com/7iiyIys.png" alt></p>
<h2 id="Kubeflow-Pipelines-UI-待補"><a href="#Kubeflow-Pipelines-UI-待補" class="headerlink" title="Kubeflow Pipelines UI (待補)"></a>Kubeflow Pipelines UI (待補)</h2><p>Kubeflow主要是為了簡化在Kubernetes上面運行機器學習任務的流程，最終希望能夠實現一套完整工作流(workflow)模型。所謂工作流，或者稱之為流水線(pipelines)，來實現 ML 從數據到模型的一整套 End-to-End 的過程 : </p>
<p><img src="https://i.imgur.com/shEDXxm.png" alt><br><img src="https://i.imgur.com/tEocDzK.png" alt></p>
<h3 id="相關文章（補充"><a href="#相關文章（補充" class="headerlink" title="# 相關文章（補充)"></a># 相關文章（補充)</h3><ul>
<li><a href="http://gaocegege.com/Blog/kfp" target="_blank" rel="noopener">Kubeflow Pipelines: 面向机器学习场景的流水线系统的使用与实现</a></li>
<li><a href="https://soolaugust.github.io/learn-k8s-from-scratch/kubeflow-intro.html" target="_blank" rel="noopener">再談Kubeflow - pipline</a></li>
</ul>
<hr>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>此篇文章介紹 kubeflow v0.4 發佈資訊更新資訊與部署流程，但由於 kubeflow 開源專案更新速度太快，要對於每項服務都測試需要花時間慢慢整理，至於 v0.4 針對 pipline 核心組件值得花時間研究，後續也會介紹更多<a href="https://www.kubeflow.org/docs/components/" target="_blank" rel="noopener">Components</a>應用操作。</p>
<blockquote>
<p>近日開始協助貢獻更新 <code>kubeflow/website</code> 範例與錯誤資訊，希望能為 kubeflow 做更多的推廣</p>
</blockquote>
<h2 id="Reference-1"><a href="#Reference-1" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://medium.com/kubeflow/kubeflow-0-4-release-enhancements-for-machine-learning-productivity-d77c54df07a9" target="_blank" rel="noopener">Kubeflow 0.4 Release: Enhancements for Machine Learning productivity<br>Go to the profile of Thea Lamkin</a></li>
<li><a href="https://yq.aliyun.com/articles/686672" target="_blank" rel="noopener">新Kubeflow，新征程（一）：簡化部署體驗</a></li>
</ul>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/kubernetes/">kubernetes</a><a class="link-muted mr-2" rel="tag" href="/tags/kubeflow/">kubeflow</a><a class="link-muted mr-2" rel="tag" href="/tags/deploy/">deploy</a></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜歡這篇文章嗎? 贊助一下作者吧!</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付寶</span><span class="qrcode"><img src="/" alt="支付寶"></span></a><a class="button donate" href="/" style="background-color:rgba(255,128,62,.87);border-color:transparent;color:white;" target="_blank" rel="noopener"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button is-danger donate" href="/" target="_blank" rel="noopener"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><div class="notification is-danger">You forgot to set the <code>business</code> or <code>currency_code</code> for Paypal. Please set it in <code>_config.yml</code>.</div><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>WeChat</span><span class="qrcode"><img src="/" alt="WeChat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/05/03/minikube-for-kubeflow/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">利用 Minikube 快速測試部署 Kubeflow v0.5</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/01/28/portainer-set-tls/"><span class="level-item">Portainer 透過 TLS 認證</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">評論</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://yylin1.github.io/2019/02/03/kubeflow-0-4-release/';
            this.page.identifier = '2019/02/03/kubeflow-0-4-release/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'yylin' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="/images/yiyang.png" alt="Yi Yang"></figure><p class="title is-size-4 is-block line-height-inherit">Yi Yang</p><p class="is-size-6 is-block">Software Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Hsinchu, Taiwan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">21</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分類</p><a href="/categories"><p class="title">10</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">標籤</p><a href="/tags"><p class="title">25</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/yylin1" target="_blank" rel="noopener">追蹤</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/yylin1"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com/frank.yiyanglin"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Envelope" href="mailto:frank.yylin@gmail.com"><i class="far fa-envelope"></i></a></div></div></div><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">文章目錄</h3><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex" href="#Related-Posts"><span class="mr-2">1.1</span><span>Related Posts</span></a></li></ul><li><a class="is-flex" href="#Kubeflow-0-4提供了以下主要功能和更新："><span class="mr-2">2</span><span>Kubeflow 0.4提供了以下主要功能和更新：</span></a><ul class="menu-list"><li><a class="is-flex" href="#Reference"><span class="mr-2">2.1</span><span>Reference</span></a></li></ul></li><li><a class="is-flex" href="#事前準備"><span class="mr-2">3</span><span>事前準備</span></a><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex" href="#部署-Kubeflow-之前，需要確保以下條件達成："><span class="mr-2">3.1.1</span><span>部署 Kubeflow 之前，需要確保以下條件達成：</span></a></li></ul></ul></li><li><a class="is-flex" href="#部署-Kubeflow"><span class="mr-2">4</span><span>部署 Kubeflow</span></a><ul class="menu-list"><li><a class="is-flex" href="#安裝ksonnet"><span class="mr-2">4.1</span><span>安裝ksonnet</span></a></li><li><a class="is-flex" href="#部署儲存需求-PVC"><span class="mr-2">4.2</span><span>部署儲存需求 PVC</span></a></li><li><a class="is-flex" href="#下載-Kubeflow-相關-repo"><span class="mr-2">4.3</span><span>下載 Kubeflow 相關 repo</span></a></li></ul></li><li><a class="is-flex" href="#執行安裝腳本配置與部署"><span class="mr-2">5</span><span>執行安裝腳本配置與部署</span></a><ul class="menu-list"><li><a class="is-flex" href="#完成後檢查-Kubeflow-元件部署結果："><span class="mr-2">5.1</span><span>完成後檢查 Kubeflow 元件部署結果：</span></a></li><li><a class="is-flex" href="#補充-關閉-Kubeflow使用報告-可選擇"><span class="mr-2">5.2</span><span>#補充 關閉 Kubeflow使用報告 (可選擇)</span></a></li><li><a class="is-flex" href="#訪問-Kubeflow-Web-UI"><span class="mr-2">5.3</span><span>訪問 Kubeflow Web UI</span></a></li></ul></li><li><a class="is-flex" href="#測試-Jupyter-Notebook"><span class="mr-2">6</span><span>測試 Jupyter Notebook</span></a></li><li><a class="is-flex" href="#Kubeflow-Pipelines-UI-待補"><span class="mr-2">7</span><span>Kubeflow Pipelines UI (待補)</span></a><ul class="menu-list"><li><a class="is-flex" href="#相關文章（補充"><span class="mr-2">7.1</span><span># 相關文章（補充)</span></a></li></ul></li><li><a class="is-flex" href="#Summary"><span class="mr-2">8</span><span>Summary</span></a></li><li><a class="is-flex" href="#Reference-1"><span class="mr-2">9</span><span>Reference</span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">連結</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://chlin62.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">林大工程師</span></span><span class="level-right"><span class="level-item tag">chlin62.github.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分類</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Ansible/"><span class="level-start"><span class="level-item">Ansible</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Deploy/"><span class="level-start"><span class="level-item">Deploy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Driver/"><span class="level-start"><span class="level-item">Driver</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Kubeflow/"><span class="level-start"><span class="level-item">Kubeflow</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Kubernetes/"><span class="level-start"><span class="level-item">Kubernetes</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Linkpack/"><span class="level-start"><span class="level-item">Linkpack</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Note/"><span class="level-start"><span class="level-item">Note</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Openshift/"><span class="level-start"><span class="level-item">Openshift</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Zabbix/"><span class="level-start"><span class="level-item">Zabbix</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><a class="media-left" href="/2020/06/12/singularity-introduction/"><p class="image is-64x64"><img class="thumbnail" src="/images/singularity.jpg" alt="Singularity 基礎介紹"></p></a><div class="media-content size-small"><p><time dateTime="2020-06-11T17:03:14.000Z">2020-06-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/06/12/singularity-introduction/">Singularity 基礎介紹</a></p><p class="is-uppercase"></p></div></article><article class="media"><a class="media-left" href="/2019/12/31/2019-retrospect-prospect/"><p class="image is-64x64"><img class="thumbnail" src="/images/2019_end.png" alt="2019 年度總結"></p></a><div class="media-content size-small"><p><time dateTime="2019-12-31T03:50:00.000Z">2019-12-31</time></p><p class="title is-6"><a class="link-muted" href="/2019/12/31/2019-retrospect-prospect/">2019 年度總結</a></p><p class="is-uppercase"></p></div></article><article class="media"><a class="media-left" href="/2019/10/12/roca12day/"><p class="image is-64x64"><img class="thumbnail" src="/images/roca12.jpg" alt="中坑精南 補充兵 12 日心得"></p></a><div class="media-content size-small"><p><time dateTime="2019-10-12T06:38:05.000Z">2019-10-12</time></p><p class="title is-6"><a class="link-muted" href="/2019/10/12/roca12day/">中坑精南 補充兵 12 日心得</a></p><p class="is-uppercase"></p></div></article><article class="media"><a class="media-left" href="/2019/08/12/openshift-ansible-v3-11/"><p class="image is-64x64"><img class="thumbnail" src="/images/openshift%203.11.jpg" alt="透過 Ansible 快速部署 OpenShift 3.11(OKD) 叢集"></p></a><div class="media-content size-small"><p><time dateTime="2019-08-12T15:41:13.000Z">2019-08-12</time></p><p class="title is-6"><a class="link-muted" href="/2019/08/12/openshift-ansible-v3-11/">透過 Ansible 快速部署 OpenShift 3.11(OKD) 叢集</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Openshift/">Openshift</a></p></div></article><article class="media"><a class="media-left" href="/2019/05/03/minikube-for-kubeflow/"><p class="image is-64x64"><img class="thumbnail" src="/images/minikube_for_kubeflow.jpg" alt="利用 Minikube 快速測試部署 Kubeflow v0.5"></p></a><div class="media-content size-small"><p><time dateTime="2019-05-03T15:46:54.000Z">2019-05-03</time></p><p class="title is-6"><a class="link-muted" href="/2019/05/03/minikube-for-kubeflow/">利用 Minikube 快速測試部署 Kubeflow v0.5</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Kubeflow/">Kubeflow</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">彙整</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">十月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">八月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">五月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">二月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/01/"><span class="level-start"><span class="level-item">一月 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/11/"><span class="level-start"><span class="level-item">十一月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/10/"><span class="level-start"><span class="level-item">十月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">標籤</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/API/"><span class="tag">API</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Container/"><span class="tag">Container</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPU/"><span class="tag">GPU</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NVIDIA-Driver/"><span class="tag">NVIDIA Driver</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Retrospect/"><span class="tag">Retrospect</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Singularity/"><span class="tag">Singularity</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UI/"><span class="tag">UI</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ansible/"><span class="tag">ansible</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bastion/"><span class="tag">bastion</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/benchmark/"><span class="tag">benchmark</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/deploy/"><span class="tag">deploy</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/distributed/"><span class="tag">distributed</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubecon/"><span class="tag">kubecon</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubeflow/"><span class="tag">kubeflow</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes/"><span class="tag">kubernetes</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linpack/"><span class="tag">linpack</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/microk8s/"><span class="tag">microk8s</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/minikube/"><span class="tag">minikube</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openshift/"><span class="tag">openshift</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/parmeter-server/"><span class="tag">parmeter server</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/quickstart/"><span class="tag">quickstart</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/scheduler/"><span class="tag">scheduler</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ubuntu/"><span class="tag">ubuntu</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zabbix/"><span class="tag">zabbix</span><span class="tag is-grey-lightest">2</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">訂閱 Email</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="訂閱"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/artificial-intelligence.png" alt="Yi Yang&#039;s Blog" height="28"></a><p class="size-small"><span>&copy; 2020 Yi Yang</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-TW");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yylin1.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到頁首" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="請輸入關鍵字..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"請輸入關鍵字...","untitled":"(Untitled)","posts":"文章","pages":"Pages","categories":"分類","tags":"標籤"});
        });</script></body></html>